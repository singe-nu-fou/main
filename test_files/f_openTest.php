<?php
    $path = 'test.txt';
    try{
        if(!file_exists($path)){
            throw new Exception('Error finding file!');
        }
        if(!$file = fopen($path,'rb+')){
            throw new Exception('Error opening file!');
        }
        if(!$contents = fread($file,filesize($path))){
            throw new Exception('Error reading file!');
        }
        echo $contents;
        $message = 'Another success!'.PHP_EOL;
        fwrite($file,$message);
        fclose($file);
    } catch (Exception $ex) {
        echo $ex->getMessage();
    }